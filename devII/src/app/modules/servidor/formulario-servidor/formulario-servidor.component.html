<div class="titulo">
  <p>Cadastro de servidores</p>
</div>

<div class="listaServidores">
  <a routerLink="/listaServidores" class="listaservidor"
    ><button 
      matTooltip="Lista de servidores que estão cadastrados no sistema"
      [matTooltipHideDelay]="500"
      [matTooltipShowDelay]="1000"
      color="primary"
      aria-label="Lista de servidores"
    class="botao">Lista dos servidores</button></a
  >
  <button
    class="botao"
    [matTooltip]="
      desbloqueio
        ? 'Cadastrar um servidor no sistema'
        : 'Desbloquer um email de servidor esteja sendo utilizado por engano...'
    "
    [matTooltipHideDelay]="500"
    [matTooltipShowDelay]="1500"
    (click)="desbloqueio = !desbloqueio"
  >
    {{ desbloqueio ? "Cadastrar servidor" : "Desbloquear e-mail" }}
  </button>
</div>
<div class="formulario">
  <form
    class="formulario--centro"
    role="form"
    (ngSubmit)="excluirServidor()"
    *ngIf="desbloqueio"
  >
    <div class="formularioBox">
      <span
        >Se, ao tentar cadastrar um servidor, for exibido que o e-mail já está
        cadastrado no sistema, você pode realizar o desbloqueio aqui. A conta
        associada ao e-mail do servidor será excluída..</span
      >
      <br />
      <label class="emailDesbloqueio-campo">Desbloquear e-mail</label>
      <input
        class="nome"
        type="text"
        id="emailDesbloqueio"
        name="emailDesbloqueio"
        placeholder="Digite o e-mail do servidor"
        [(ngModel)]="emailDesbloqueio"
      />
      <input class="botao" type="submit" value="Pesquisar" />
    </div>
  </form>

  <form
    class="formulario--centro"
    (ngSubmit)="enviarFormulario()"
    *ngIf="!desbloqueio"
  >
    <div class="formularioBox">
      <div class="divcargo">
        <label for="cargo">Cargo</label>
        <select
          id="cargo"
          name="cargo"
          (change)="exibirCursos($event)"
          [(ngModel)]="servidor.cargo"
          class="text"
          required
        >
          <option value="">Selecione o Cargo</option>
          <option value="Coordenador">Coordenador</option>
          <option value="Setor de Estágio">Setor de Estágio</option>
          <option value="Diretor">Diretor</option>
        </select>
      </div>

      <label class="nome-campo">Nome Completo</label>
      <input
        class="nome"
        type="text"
        id="nome"
        name="nome"
        [(ngModel)]="servidor.nome"
        placeholder="Digite o seu nome"
        required
      />

      <label class="nome-campo">Email institucional</label>
      <input
        class="email"
        type="email"
        id="email"
        name="email"
        [(ngModel)]="servidor.usuarioSistema.email"
        placeholder="servidor@restinga.ifrs.edu.br"
        required
      />

      <label *ngIf="exibirCurso" for="curso">Curso</label>
      <select
        *ngIf="exibirCurso"
        name="curso"
        id="curso"
        type="text"
        [(ngModel)]="servidor.curso.id"
        required
        [disabled]="habilitarCurso"
      >
        <option value="" disabled>Escolha um Curso</option>
        <option value="10">Análise e Desenvolvimento de Sistemas</option>
        <option value="11">Letras Português e Espanhol</option>
        <option value="12">Eletrônica Industrial</option>
        <option value="13">Gestão Desportiva e de Lazer</option>
        <option value="14">Processos Gerenciais</option>
        <option value="15">Setor de Estágio</option>
        <option value="17">Lazer</option>
        <option value="18">Informática</option>
        <option value="19">Eletrônica</option>
      </select>

      <div class="senhadiv">
        <div class="senha">
          <label class="nome-campo">Digite uma senha</label>
          <input
            type="password"
            id="password"
            name="password"
            [(ngModel)]="servidor.usuarioSistema.senha"
            placeholder="Digite a senha"
            required
          />
        </div>
        <div class="senha">
          <label class="nome-campo">Confirmar senha</label>
          <input
            type="password"
            id="Confirm_password"
            name="Confirm_password"
            [(ngModel)]="confirmarSenha"
            placeholder="Digite novamente a Senha"
            required
          />
        </div>
      </div>

      <input class="botao" type="submit" value="Cadastrar" />
    </div>
  </form>
</div>
